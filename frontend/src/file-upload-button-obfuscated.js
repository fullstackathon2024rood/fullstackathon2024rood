var a0_0x5bf88e=a0_0x5036;(function(_0x3d6d3e,_0x39af38){var _0x56a8d6=a0_0x5036,_0x4e32bb=_0x3d6d3e();while(!![]){try{var _0x250f1b=parseInt(_0x56a8d6(0x169))/0x1+parseInt(_0x56a8d6(0x167))/0x2*(parseInt(_0x56a8d6(0x15d))/0x3)+parseInt(_0x56a8d6(0x165))/0x4*(parseInt(_0x56a8d6(0x174))/0x5)+-parseInt(_0x56a8d6(0x16e))/0x6*(parseInt(_0x56a8d6(0x159))/0x7)+parseInt(_0x56a8d6(0x17c))/0x8+-parseInt(_0x56a8d6(0x177))/0x9*(parseInt(_0x56a8d6(0x17a))/0xa)+parseInt(_0x56a8d6(0x178))/0xb;if(_0x250f1b===_0x39af38)break;else _0x4e32bb['push'](_0x4e32bb['shift']());}catch(_0x2f351d){_0x4e32bb['push'](_0x4e32bb['shift']());}}}(a0_0x3372,0x5173f));import{LitElement,html}from'lit';export let loading=![];export let enabledPersonCheck=!![];function a0_0x5036(_0x33e72d,_0x34ce95){var _0x337260=a0_0x3372();return a0_0x5036=function(_0x5036fe,_0x9edb2){_0x5036fe=_0x5036fe-0x157;var _0xe2b2d9=_0x337260[_0x5036fe];return _0xe2b2d9;},a0_0x5036(_0x33e72d,_0x34ce95);}function a0_0x3372(){var _0x3fb154=['This\x20image\x20seems\x20safe\x20to\x20upload','json','firstUpdated','querySelector','predictions','Consider\x20if\x20you\x20think\x20that\x20this\x20image\x20could\x20be\x20used\x20maliciously','classList','4nlKzMf','onClick','86wsGWAo','input[type=\x22file\x22]','471813jlbAnT','readAsDataURL','foundClass','target','addEventListener','3827346EwQEJH','connectedCallback','then','name','disabled','add','481015RYYVLv','showPicker','ui-file-upload-button','9QZSnqw','2534477xZGoKR','show-spinner','6360850kxszDb','properties','4100216FvZFOw','requestUpdate','log','createRenderRoot','preview','onload','detect','imageSrc','GET','hidden','getElementById','includes','file-upload-button','files','7FpxBxs','class','advice','remove','20697qTNZwr'];a0_0x3372=function(){return _0x3fb154;};return a0_0x3372();}export class FileUploadButton extends LitElement{static [a0_0x5bf88e(0x17b)]={'name':{},'text':{},'fileName':undefined,'imageSrc':{},'predictions':{},'foundClass':'','advice':{}};[a0_0x5bf88e(0x17f)](){return this;}[a0_0x5bf88e(0x16f)](){var _0x5f1984=a0_0x5bf88e;super[_0x5f1984(0x16f)](),fetch('https://faas-ams3-2a2df116.doserverless.co/api/v1/web/fn-31abe079-0e1e-4595-bf92-7723fc6767bb/default/helloWorld',{'method':_0x5f1984(0x184)})[_0x5f1984(0x170)](_0x23946c=>_0x23946c[_0x5f1984(0x15f)]())[_0x5f1984(0x170)](_0x252535=>{var _0x5d0858=_0x5f1984;this[_0x5d0858(0x15b)]=_0x252535['advice'];});}[a0_0x5bf88e(0x160)](_0x1214af){var _0xe14732=a0_0x5bf88e;this[_0xe14732(0x161)](_0xe14732(0x168))[_0xe14732(0x16d)]('change',_0x24974e=>{var _0x1c578e=_0xe14732;if(_0x24974e['target'][_0x1c578e(0x158)]&&_0x24974e[_0x1c578e(0x16c)]['files'][0x0]){var _0x4e22f7=document[_0x1c578e(0x186)]('responseText');_0x4e22f7[_0x1c578e(0x164)][_0x1c578e(0x173)]('hidden');var _0x3004ad=document[_0x1c578e(0x186)](_0x1c578e(0x180));_0x3004ad[_0x1c578e(0x164)][_0x1c578e(0x15c)](_0x1c578e(0x185));var _0x3ddb6d=new FileReader();_0x3ddb6d[_0x1c578e(0x181)]=_0x53c364=>{var _0xd44a76=_0x1c578e;this[_0xd44a76(0x183)]=_0x53c364[_0xd44a76(0x16c)]['result'],loading=!![],this[_0xd44a76(0x17d)]();if(enabledPersonCheck){const _0x1a2837=document['getElementById'](_0xd44a76(0x180));var _0x540ebe=document[_0xd44a76(0x186)]('spinner');_0x540ebe[_0xd44a76(0x164)]['add'](_0xd44a76(0x179));var _0x300dcf=document[_0xd44a76(0x186)](_0xd44a76(0x157));_0x300dcf[_0xd44a76(0x164)][_0xd44a76(0x173)](_0xd44a76(0x172));var _0x2df7e1=document[_0xd44a76(0x186)]('submit');_0x2df7e1['classList'][_0xd44a76(0x173)](_0xd44a76(0x172)),console[_0xd44a76(0x17e)](this['advice'][0x0]),setTimeout(()=>{cocoSsd['load']()['then'](_0x1a9ab6=>{var _0x297a1c=a0_0x5036;_0x1a9ab6[_0x297a1c(0x182)](_0x1a2837)['then'](_0x4d5d87=>{var _0x16e349=_0x297a1c;console[_0x16e349(0x17e)]('Predictions:\x20',_0x4d5d87);var _0xbee798=document[_0x16e349(0x186)]('image-contains');this[_0x16e349(0x16b)]=null;if(!!_0x4d5d87&&!!_0x4d5d87[0x0]){const _0x324f81=this['advice'][_0x16e349(0x187)](_0x4d5d87[0x0][_0x16e349(0x15a)]);this[_0x16e349(0x16b)]=_0x4d5d87[0x0]['class'],_0x324f81?(this[_0x16e349(0x162)]=_0x16e349(0x163),_0xbee798[_0x16e349(0x164)][_0x16e349(0x15c)](_0x16e349(0x185))):(this[_0x16e349(0x162)]=_0x16e349(0x15e),_0xbee798[_0x16e349(0x164)]['remove'](_0x16e349(0x185))),this[_0x16e349(0x17d)]();}else this['predictions']='This\x20image\x20seems\x20safe\x20to\x20upload',_0xbee798[_0x16e349(0x164)][_0x16e349(0x173)](_0x16e349(0x185));loading=![],_0x540ebe[_0x16e349(0x164)]['remove'](_0x16e349(0x179)),_0x300dcf[_0x16e349(0x164)][_0x16e349(0x15c)](_0x16e349(0x172)),_0x2df7e1[_0x16e349(0x164)][_0x16e349(0x15c)](_0x16e349(0x172)),_0x4e22f7[_0x16e349(0x164)]['remove'](_0x16e349(0x185));});});},0x1f4);}else loading=![];},_0x3ddb6d[_0x1c578e(0x16a)](_0x24974e['target'][_0x1c578e(0x158)][0x0]);}});}async[a0_0x5bf88e(0x166)](){var _0x24a7ce=a0_0x5bf88e;if(loading)return;this[_0x24a7ce(0x161)](_0x24a7ce(0x168))[_0x24a7ce(0x175)]();}['render'](){var _0x53d371=a0_0x5bf88e;return html`
      <div class="file-upload">
          <input type="button" id="file-upload-button" .disabled="${loading}" value="${this['text']}" @click="${this[_0x53d371(0x166)]}">
        
          <div class="file-upload__image-to-upload">
            <div class="spinner" id="spinner"><img src="/src/assets/loading-load.gif"></div>
            <img id="preview" src="${this['imageSrc']}" alt="your image" .hidden="${!this[_0x53d371(0x183)]}" />
          </div>
          <div class="file-upload__prediction">
            <h3 class="response hidden" id="responseText">
                
                <div id="image-contains">
                    This image contains a <span class="response-text">${this[_0x53d371(0x16b)]}</span>.
                    <br><br>
                </div>
                
                <div class="response-text">${this[_0x53d371(0x162)]}</div> </h3>
          </div>
          <input type="file" id="file-upload" name="${this[_0x53d371(0x171)]}" value="Upload" hidden>
      </div>
    `;}}customElements['define'](a0_0x5bf88e(0x176),FileUploadButton);